
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Upload Images Using Cloudinary in Heroku - Awesome Web Blog</title>
  <meta name="author" content="Anoob Bava">

  
  <meta name="description" content="Intro As discussed in the previous blogs, heroku is an awesome tool to deploy our application within minutes and no hassles. The issue is with the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://anoobbava.github.io/blog/2018/03/28/upload-images-using-cloudinary-in-heroku/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Awesome Web Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-101186678-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Awesome Web Blog</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="anoobbava.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Upload Images Using Cloudinary in Heroku</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-28T11:43:11+05:30'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>11:43 am</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h2>Intro</h2>

<p>  <img src="/images/cloudinary/1.png" width="600" height="200"></p>

<p>  As discussed in the previous blogs, heroku is an awesome tool to deploy our application within minutes and no hassles. The issue is with the heroku is, for each specific applications ,need to use the add-ons. some are free and others are paid version. But to use add-on like cloudinary need to provide the credit card info, Here we are explaining how to bypass this issue</p>

<h2>Cloudinary</h2>

<p>  <img src="/images/cloudinary/2.png" width="700" height="300"></p>

<p>Cloudinary, as the name indicates it is a cloud space to save the images and videos. Can be used for both the web and mobile platform. Also the cloudinary provides a cool space as free tier(10GB something and 300000 photos). when We tweet about them, they provides an additional 1GB Also, Awesome right and thanks to cloudinary too.</p>

<h2>Implementation</h2>

<ol>
<li><p>signup with <a href="https://cloudinary.com/">Cloudinary</a></p></li>
<li><p>generate the custom cloudinary.yml via cloudinary console</p></li>
<li><p>copy to the project path</p></li>
<li><p>update the upoader File</p></li>
<li><p>Update in Herkou with ENV Variable.</p></li>
<li><p>deploy the code to heroku</p></li>
</ol>


<h3>Signup with Cloudinary</h3>

<p>Create an account with <a href="https://cloudinary.com/">Cloudinary</a> using email and password.</p>

<p><img src="/images/cloudinary/3.png" width="900" height="300"></p>

<h3>Cloudinary.yml</h3>

<p>If you have not seen the cloudinary.yml, dont worry, will paste my cloudinary.yml file below, Please chnage the details from the dashboard.</p>

<p>below is the dashboard, copy this details and replace these details to the yml file.</p>

<p><img src="/images/cloudinary/4.png" width="900" height="300"></p>

<p>  <script src="https://gist.github.com/anoobbava/c7fd8141c0ace8ddfac514dc145a2c3e.js"></script></p>

<h3>copy to the project path</h3>

<p>include this file in <strong>application_root/config/</strong></p>

<h4>update the upoader File</h4>

<p> in the Uploader.rb file(ImageUploader.rb or AvatarUploader.rb) change the following,</p>

<p>comment below codes</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># storage :file
</span><span class='line'>
</span><span class='line'># def store_dir
</span><span class='line'>  #   "uploads/#{model.class.to_s.underscore}/#{mounted_as}/#{model.id}"
</span><span class='line'>  # end</span></code></pre></td></tr></table></div></figure>


<h3>Update in Herkou with ENV Variable</h3>

<p>Login in <strong>herkou</strong> dashboard and take our application and add environment variable.</p>

<p><img src="/images/cloudinary/5.png" width="800" height="300"></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  CLOUDINARY_URL</span></code></pre></td></tr></table></div></figure>


<h3>deploy the code to heroku</h3>

<p>no worries, no need to change the code in the image_tag and upload tags, for me it is all working fine</p>

<p>you check in my site for the output <strong>blog-app-bava.herokuapp.com</strong></p>

<p>code will be available in <a href="https://github.com/anoobbava/blog_app">github</a></p>

<p>all set. thanks guys, comment if any error or doubt happend</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Anoob Bava</span></span>

      




<time class='entry-date' datetime='2018-03-28T11:43:11+05:30'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>11:43 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/cloudinary/'>cloudinary</a>, <a class='category' href='/blog/categories/herkou/'>herkou</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://anoobbava.github.io/blog/2018/03/28/upload-images-using-cloudinary-in-heroku/" data-via="anoobkbava" data-counturl="http://anoobbava.github.io/blog/2018/03/28/upload-images-using-cloudinary-in-heroku/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2018/03/27/automatically-run-the-migrations-in-heroku/" title="Previous Post: Automatically run the migrations in Heroku">&laquo; Automatically run the migrations in Heroku</a>
      
      
        <a class="basic-alignment right" href="/blog/2018/04/11/rails-app-deployment-using-gcp/" title="Next Post: GCP:1 Rails App Deployment using GCP">GCP:1 Rails App Deployment using GCP &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Anoob Bava</h1>
  <p>Full time Ruby on Rails developer, Opensource contributor in intervals. love to code and try out new things</p>
  <img src="/images/about/profile.jpg" alt="Smiley face" height="200" width="300">

  <a href ="https://anoobbava.github.io/downloads/code/anoob_bava.pdf">Resume</a>
</section>
<section>
  <h2>social Links</h2>
  <p>
    <a href="https://www.github.com/anoobbava"><img border="0" alt="github" src="/images/github_logo.png" width="50" height="50"></a>
    <a href="https://twitter.com/anoobkbava"><img border="0" alt="twitter" src="/images/twitter_logo.png" width="50" height="50"></a>
    <a href="https://stackoverflow.com/users/5023291/anoob-k-bava"><img border="0" alt="so" src="/images/stackoverflow_logo.png" width="50" height="50"></a>
    <a href="https://rubygems.org/gems/penmig"><img border="0" alt="so" src="/images/rubygems_logo.png" width="45" height="50"></a>
  </p>
</section>

<section>
  <h1>Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/09/07/ruby-array-manipulations/">Ruby Array Manipulations</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/06/28/deployment-using-mina/">GCP:4 Deployment Using Mina</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/06/21/gcp-3-install-nginx-and-setup-unicorn/">GCP:3 Install Nginx and Setup Unicorn</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/05/29/delayed-job-with-recurring-option/">Delayed Job With Recurring Option</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/04/12/install-ruby-and-postgres-to-gcp-series2/">GCP:2 Install Ruby and Postgres</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/anoobbava">@anoobbava</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'anoobbava',
            count: ,
            skip_forks: ,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/anoob.bava?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Anoob Bava -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'https-anoobbava-github-io';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://anoobbava.github.io/blog/2018/03/28/upload-images-using-cloudinary-in-heroku/';
        var disqus_url = 'http://anoobbava.github.io/blog/2018/03/28/upload-images-using-cloudinary-in-heroku/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>

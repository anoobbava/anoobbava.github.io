
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Awesome Web Blog</title>
  <meta name="author" content="Anoob Bava">

  
  <meta name="description" content="Introduction This is the last blog which deals with the GCP deployment, here our main area of
topic is the mina &ldquo;a blazing fast deployment tool &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://anoobbava.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Awesome Web Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-101186678-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Awesome Web Blog</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="anoobbava.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/06/28/deployment-using-mina/">GCP:4 Deployment Using Mina</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-06-28T21:18:28+05:30'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>9:18 pm</span></time>
        
           | <a href="/blog/2018/06/28/deployment-using-mina/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/06/28/deployment-using-mina/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Introduction</h2>

<p>This is the last blog which deals with the GCP deployment, here our main area of
topic is the mina &ldquo;a blazing fast deployment tool&rdquo;.Which is executed as a
Rake.Also need to install and setup is pretty, no worries. Advantage is that we
check-in the code to the github.Only the place is the config/deploy.rb.Also we
can implement DRY principle to the deployment script.Which means;we can use the
same script to deploy the app to staging, QA and even Production.</p>

<p><img src="/images/mina/1.png" width="400" height="100"></p>

<p><a href="https://github.com/mina-deploy/mina">mina github link</a></p>

<h2>How the deployment process done ??</h2>

<p> We are dividing the deployment to below section to easily understand and
deployment.</p>

<ol>
<li>setup and install mina gem</li>
<li>mina Rake</li>
<li>script to deploy</li>
<li>running the Rake.</li>
<li>setup nginx and unicorn</li>
<li>known issues while occured in the deployment and fixing.</li>
</ol>


<h3>1.Setup and install mina gem</h3>

<p><img src="/images/mina/2.png" width="600" height="100"></p>

<p>Add the below gem to the development group.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  gem 'mina', '~&gt; 1.2', '&gt;= 1.2.3'</span></code></pre></td></tr></table></div></figure>


<p>Now what we need to add is the mina-unicorn gem, this will used to deploy
unicorn with mina.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  gem 'mina-unicorn', '~&gt; 2.0'</span></code></pre></td></tr></table></div></figure>


<p>then do</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  bundle install</span></code></pre></td></tr></table></div></figure>


<h3>2.mina Rake</h3>

<p>mina works like a rake task.There is a another command</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  mina init</span></code></pre></td></tr></table></div></figure>


<p>it will create the configuration file in the config/deploy.rb</p>

<p><img src="/images/mina/3.png" width="400" height="100"></p>

<p>Hooray, A major part is done, now we need to add the tasks we are going to use
in the <em>deploy.rb</em>
You can use your own tasks, based on the taste, but i would like to follow the
old practices like the setup and deploy</p>

<p><em>setup</em></p>

<p>In this rake, we are going to deals with the basic details like creating the
folders, creating the temp folders, etc.</p>

<p><em>deploy</em></p>

<p>This rake mainly deals with clone the app and kill the pid, bundle install, migrate the app, migrate, precompile the assets.</p>

<h3>3.mina script</h3>

<p>deploy.rb is the heart of the mina tool.We can configure that based on our requirement.I will give you basic explanation about the each of the commands here and updated the basic skeleton of the deploy.rb and also for verification, will updated with my own deploy.rb which is used in my blog_app.</p>

<p><em>skeleton of the deploy.rb</em></p>

<script src="https://gist.github.com/anoobbava/905c8aa332078d9ee4128e6b312484b1.js"></script>


<p><em>copy of my original deploy.rb file</em></p>

<script src="https://gist.github.com/anoobbava/2240c4066d39db1cebe3b787ad37e630.js"></script>


<p>Now our scripts are done.Copy this file into your app/config/deploy.rb file and</p>

<p>run the commands below,</p>

<h3>4.Running the Rake</h3>

<p>Before running the rake, ensure that you are added the<em> mina gem and mina-unicorn</em>
and bundle installed.</p>

<p>first run the command</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  mina setup</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/mina/4.png" width="600" height="200"></p>

<p>Now the setup execution is completion is success, there is nothing to worry in
this, now we are moving to the deploy command.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  mina deploy</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/mina/5.png" width="900" height="400"></p>

<p><img src="/images/mina/6.png" width="900" height="400"></p>

<p><img src="/images/mina/7.png" width="900" height="400"></p>

<p>ah!!, We got the first error, that issue is because we don&rsquo;t specify the database
and the connector, then user name and password in the path.In order to do that,
go to our server terminal</p>

<p><img src="/images/mina/8.png" width="800" height="400"></p>

<p>Now we go to the app path , here it is blog_app/</p>

<p><img src="/images/mina/9.png" width="600" height="100"></p>

<p>Now go to the blog_app/ folder go to the <em>shared/config/</em> there is a file called
the database.yml and add the connection details there.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>staging:
</span><span class='line'>  adapter: postgresql
</span><span class='line'>  encoding: unicode
</span><span class='line'>  database: blog_app_staging
</span><span class='line'>  pool: 5
</span><span class='line'>  host: localhost
</span><span class='line'>  username: blog_user
</span><span class='line'>  password: password</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/mina/10.png" width="600" height="100"></p>

<p>ah!, we got another error, that error comes because there is no database
configured.It is possible to create the database from the mina tool;but we will
do via console and we will explain that in another blog.</p>

<p><img src="/images/mina/11.png" width="900" height="400"></p>

<p>Now, we will create a database by logging to the server and using the below
command</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  sudo -i -u postgres</span></code></pre></td></tr></table></div></figure>


<p>then using the below command, generate the database</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  createdb databasename</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/mina/12.png" width="600" height="100"></p>

<p>Next is grant access to the user to the new database.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  grant all privileges on database databasename to username;</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/mina/13.png" width="900" height="400"></p>

<p>Please check the above image before executing the above command.</p>

<p>Now again will do the <em>mina deploy</em></p>

<p><img src="/images/mina/14.png" width="900" height="400" title="" ></p>

<p>Awesome, we are good to go, our app is deployed,but it is not for accessing our
browser, need to do some tweaks, Great working guys.</p>

<h3>5.setup nginx and unicorn</h3>

<p>Now, I want to check whether the nginx can be accessible via ip-address.</p>

<p>just go to ip-address in the browser,</p>

<p><img src="/images/mina/15.png" width="600" height="300"></p>

<p>Awesome, you got the output, now only some tweak is needed.</p>

<p>first update the nginx configuration with below configuration, it is normal
config, only we need to know about the pid file and error logs.</p>

<script src="https://gist.github.com/anoobbava/5d8bb925578412b3b3f1e500a68010e5.js"></script>


<p>now copy the config to the <em>/etc/nginx/sites-enabled/default</em> file.</p>

<p>then restart the nginx using the</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  sudo service nginx restart</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/mina/16.png" width="900" height="400"></p>

<p>now nginx is okay, please check the browser we are hitting and also check the
log if any errors are happening.Log will be in the below path</p>

<p><em>/var/log/nginx/error.log</em> and <em>/var/log/nginx/access.log</em></p>

<p>Awesome!!, it is hitting the nginx, but  the page is not loaded, so the issue is
with the unicorn, we will check the unicorn logs for this.</p>

<p>unicorn log will be in the <em>blog_app/shared/log/unicorn.stderr.log</em></p>

<p><img src="/images/mina/17.png" width="900" height="400" title="" ></p>

<p>tailing this error will reveal the real issue (ie tail -f nicorn.stderr.log)</p>

<p><img src="/images/mina/18.png" width="900" height="400"></p>

<p>cool, the error is because, we have not set the secret key base, in the
secrets.yml, need to set that and then proceed.</p>

<p><img src="/images/mina/19.png" width="900" height="400"></p>

<p>by running the below command from the current path in the server console,</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  bundle exec rake secret</span></code></pre></td></tr></table></div></figure>


<p>then update the command in the <em>config/shared/secrets.yml</em> with like below</p>

<p><img src="/images/mina/20.png" width="900" height="400"></p>

<p><img src="/images/mina/21.png" width="900" height="400"></p>

<p><img src="/images/mina/22.png" width="900" height="400"></p>

<p>the reason for staging, we are deployed to staging server.</p>

<p>Now, repeat the steps like we already done</p>

<ol>
<li><p>restart the nginx</p></li>
<li><p>check the status of the nginx</p></li>
<li><p>mina deploy from the project terminal(not from the GCP terminal!!!)</p></li>
<li><p>tail -f /var/log/nginx/access.log to check it is hitting or not!!!</p></li>
<li><p>go to the ip-adress in the browser,</p></li>
</ol>


<p><img src="/images/mina/23.png" width="900" height="400"></p>

<p>hooray, we are all done, now we need to explore additional options like,how to
store the images, login issues etc. Please comment me if any issues happend</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/06/21/gcp-3-install-nginx-and-setup-unicorn/">GCP:3 Install Nginx and Setup Unicorn</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-06-21T18:15:15+05:30'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2018</span></span> <span class='time'>6:15 pm</span></time>
        
           | <a href="/blog/2018/06/21/gcp-3-install-nginx-and-setup-unicorn/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/06/21/gcp-3-install-nginx-and-setup-unicorn/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Introduction</h2>

<p>Hi All, this is the 3rd post of our deployment tool, so far we have covered the Setup for instance and installing ruby and postgres. Now what we want is to install the Nginx and Unicorn. Nginx is our App server and Unicorn is our web server. We are Not going to explain about the concepts of nginx and Unicorn; instead we used these tools to deploy our App.We already had a staging server, we used that to setup and installation.</p>

<h3>A little House keeping</h3>

<p>Image of the staging server is running.</p>

<p><img src="/images/gcp3/1.png" width="600" height="400"></p>

<p>terminal connection in staging server</p>

<p><img src="/images/gcp3/2.png" width="600" height="400"></p>

<h3>Setup Nginx</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  sudo apt-get install nginx</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/gcp3/3.png" width="600" height="100"></p>

<p>Now Check the nginx status using</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  sudo service nginx status</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/gcp3/4.png" width="600" height="100"></p>

<p>other commands</p>

<p>to restart nginx</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo service nginx restart</span></code></pre></td></tr></table></div></figure>


<p>to stop the nginx</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  sudo service nginx stop</span></code></pre></td></tr></table></div></figure>


<p>to start the nginx</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  sudo service nginx start</span></code></pre></td></tr></table></div></figure>


<p>here we are not configuring the nginx right now, we will do that later.</p>

<h3>Installing Unicorn</h3>

<p> Like I already said, we are using the unicorn as app server,by default puma is
the development server with Rails 5.X.X.</p>

<p>1.add the unicorn gem to production group</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  gem 'unicorn'</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/gcp3/5.png" width="400" height="100"></p>

<ol>
<li>add the unicorn configuration file in config/ path</li>
</ol>


<p><img src="/images/gcp3/6.png" width="800" height="100"></p>

<p>Consider only the unicorn.rb file only.The total scripts are added below for
verification, Like I already said, there are a lot of configurations are there.
Just google it for details.</p>

<script src="https://gist.github.com/anoobbava/cb5b1fa5a71f73a204a6c51ea1e03c08.js"></script>


<p>3.commit these code changes to our code base, since I have already commit those,
 I don&rsquo;t want do it again.
I know, it is only a short blog, we just covered here, will explained about
deployment using mina in the next blog,!!promise</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/05/29/delayed-job-with-recurring-option/">Delayed Job With Recurring Option</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-05-29T22:37:41+05:30'><span class='date'><span class='date-month'>May</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>10:37 pm</span></time>
        
           | <a href="/blog/2018/05/29/delayed-job-with-recurring-option/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/05/29/delayed-job-with-recurring-option/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>delayed job recurring</h2>

<h3>Requirement</h3>

<p>I have an app called clone app and the user will update some information to the table call user_informations. Our requirement is to copy this data to another table user_information_backups. It will be a background job. But we dont want to run this when the user updated the user_informations, instead what we are planning is to do the backup in each 5 mins. when the backup is completed, mark the cloned one master as flagged to restrict one information to be taken more than one.</p>

<p><a href="git@github.com:anoobbava/delayed_job_recurring_example.git">app link</a></p>

<h3>1. create an app user_clone</h3>

<p><img src="/images/dj/1.png" width="800" height="500"></p>

<p>used the database as mysql in dev, since I have sqlyog to installed for proper UI View and understanding.</p>

<p>database is mysql , we can understand from the gemfile.</p>

<p><img src="/images/dj/2.png" width="800" height="500"></p>

<p>my database.yml file is attached below</p>

<p><img src="/images/dj/3.png" width="600" height="200"></p>

<p>Need to create the database</p>

<p><img src="/images/dj/4.png" width="800" height="500"></p>

<p>now the database is shown in the sqlyog tool</p>

<p><img src="/images/dj/5.png" width="400" height="300"></p>

<p>create the model UserInformation</p>

<p><img src="/images/dj/6.png" width="900" height="500"></p>

<p>update the user_informations migration</p>

<p><img src="/images/dj/7.png" width="900" height="500"></p>

<p>migrated the file</p>

<p><img src="/images/dj/8.png" width="900" height="500"></p>

<p>created the model UserInformationBackup</p>

<p><img src="/images/dj/9.png" width="900" height="500"></p>

<p>display the table in sqlyog</p>

<p><img src="/images/dj/10.png" width="400" height="200"></p>

<p>Now, we need to generate the controller</p>

<p><img src="/images/dj/11.png" width="900" height="500"></p>

<p>Do the crud operations.</p>

<p>controller code is attached here below,</p>

<script src="https://gist.github.com/anoobbava/b1a856e6d9b732cbd1565e5a643714ce.js"></script>


<p>routes file</p>

<p><img src="/images/dj/12.png" width="300" height="100"></p>

<p>index page</p>

<p><img src="/images/dj/13.png" width="900" height="500"></p>

<p>new Page</p>

<p><img src="/images/dj/14.png" width="900" height="500"></p>

<p>update the migration to fetch only the unselected ones</p>

<p>is_selected to user_informations , default value: false</p>

<p><img src="/images/dj/15.png" width="900" height="500"></p>

<p><img src="/images/dj/16.png" width="900" height="500"></p>

<p>add a custom action in controller and route</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  get 'users/display_backup', to: "users#display_backup"</span></code></pre></td></tr></table></div></figure>


<p>action in controller</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  def display_backup
</span><span class='line'>    @users = UserInformation.all.where(is_selected: false)
</span><span class='line'>  end</span></code></pre></td></tr></table></div></figure>


<p>create the view part for the action</p>

<p>Now, the Application part completed, moving to our delayed_job and its works.</p>

<h3>Delayed Job</h3>

<p>  install delayed_job</p>

<p><img src="/images/dj/17.png" width="600" height="300"></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails generate delayed_job:active_record</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/dj/18.png" width="900" height="700"></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails db:migrate</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/dj/19.png" width="900" height="600"></p>

<p>set the below config in application.rb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  config.active_job.queue_adapter = :delayed_job</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/dj/20.png" width="900" height="700"></p>

<p>Now the backup process code explained</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  def self.intiate_backup
</span><span class='line'>    user_details = UserInformation.fetch_details
</span><span class='line'>    if user_details.present?
</span><span class='line'>      instance_data = []
</span><span class='line'>      user_details.each do |user_data|
</span><span class='line'>        user_backup_instance = UserInformationBackup.new
</span><span class='line'>        user_backup_instance.first_name = user_data.first_name
</span><span class='line'>        user_backup_instance.last_name = user_data.last_name
</span><span class='line'>        user_backup_instance.secret_message =user_data.secret_message
</span><span class='line'>        instance_data &lt;&lt; user_backup_instance
</span><span class='line'>      end
</span><span class='line'>      UserInformationBackup.import instance_data
</span><span class='line'>      user_details.update_all(is_selected: true)
</span><span class='line'>      end
</span><span class='line'>    end
</span><span class='line'>  end</span></code></pre></td></tr></table></div></figure>


<p>now test this process via Delayed job, we can use the rails console to check this</p>

<p><img src="/images/dj/21.png" width="900" height="500"></p>

<p><img src="/images/dj/22.png" width="900" height="600"></p>

<p>now the entry got added, we can this delayed job using the command</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  bundle exec rails jobs:work</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/dj/23.png" width="900" height="600"></p>

<p>one issue we have encountered is we have used model.import , which is coming from</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem 'activerecord-import'</span></code></pre></td></tr></table></div></figure>


<p>it is not added here, need to add the gem and do the bundle install</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  gem 'activerecord-import', '~&gt; 0.23.0'</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/dj/24.png" width="600" height="300"></p>

<p>and do the same same as via console and restart the delayed job</p>

<p><img src="/images/dj/25.png" width="900" height="500"></p>

<p>hooray , our process is done, now it will be cloned to the user_information_backups table</p>

<p>user_informations table</p>

<p><img src="/images/dj/26.png" width="900" height="500"></p>

<p>user_information_backups table</p>

<p><img src="/images/dj/27.png" width="900" height="500"></p>

<p>now 2 images got the same, we can&rsquo;t see any difference. in order to check the difference we will create a new entry to the user_informations table via UI</p>

<p><img src="/images/dj/28.png" width="600" height="300"></p>

<p>I have added jayakrishnan as a new entry, since this data is not cloned by the user_information_backups, it will not be there.</p>

<p><img src="/images/dj/29.png" width="600" height="300"></p>

<p>Now we run the DJ via console and see the magic,</p>

<p><img src="/images/dj/30.png" width="900" height="500"></p>

<p><img src="/images/dj/31.png" width="900" height="500"></p>

<p><img src="/images/dj/32.png" width="600" height="300"></p>

<p>Now it is the time for our cookery show, we will do the delayed job recurring.</p>

<p>add below gem to the gemfile.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  gem 'delayed_job_recurring', '~&gt; 0.3.7'</span></code></pre></td></tr></table></div></figure>


<p>and do the bundle install</p>

<p>create a folder in app/interactors.</p>

<p>create a file in that, we can use any file name for example, created  a file name <em>clone_process.rb</em> in</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  app/interactors</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  class CloneProcess
</span><span class='line'>    include Delayed::RecurringJob
</span><span class='line'>    run_every 5.minutes
</span><span class='line'>
</span><span class='line'>    def perform
</span><span class='line'>      UserInformationBackup.intiate_backup
</span><span class='line'>    end
</span><span class='line'>  end</span></code></pre></td></tr></table></div></figure>


<p>Now, this class needs to be called for one time,  for reuse, we can use the rakes;
path: <em>lib/tasks/recurring.rake</em></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>namespace :recurring do
</span><span class='line'>  task init: :environment do
</span><span class='line'>    CloneProcess.schedule!
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>In order to run this recurring job for one time, need to call  the rake task using</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>   bundle exec rails recurring:init</span></code></pre></td></tr></table></div></figure>


<p>Now</p>

<p><img src="/images/dj/33.png" width="900" height="500"></p>

<p>An entry is being made up in the DJ and it will be updated by the delayed_job_recurring gem</p>

<p><img src="/images/dj/34.png" width="900" height="500"></p>

<p>in order to test this we will create a new data via UI and wait for the DJ to pickup</p>

<p><img src="/images/dj/35.png" width="600" height="300"></p>

<p>but this data is not here in the clone table</p>

<p><img src="/images/dj/36.png" width="600" height="300"></p>

<p>after 5 minutes, DJ will pick up this.</p>

<p><img src="/images/dj/37.png" width="900" height="500"></p>

<p>in UI,</p>

<p><img src="/images/dj/38.png" width="600" height="300"></p>

<p>visit the offical doc for further details</p>

<p><a href="https://github.com/amitree/delayed_job_recurring">official doc</a></p>

<p>Hooray, my work is done here, feel free to comment if any issue</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/04/12/install-ruby-and-postgres-to-gcp-series2/">GCP:2 Install Ruby and Postgres</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-04-12T15:51:22+05:30'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>3:51 pm</span></time>
        
           | <a href="/blog/2018/04/12/install-ruby-and-postgres-to-gcp-series2/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/04/12/install-ruby-and-postgres-to-gcp-series2/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hi All, Welcome to series 2, here are explaining about the ruby and Postgres installation to our GCP Server. If you know about that in linux 16.04 version, you can skip this tutorial. this is entirely based on the ubuntu 16.04 LTS machine and not much . I read the digital ocean, GoRails etc to publish this article and use the tehniques explained by them also.</p>

<h2>Install Ruby</h2>

<p>  first need to connect to our GCP using pem file.</p>

<p>  <img src="/images/series2/0.png" width="800" height="400"></p>

<h3>Install RVM</h3>

<h4>connect gpg keys</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>   sudo apt-get install gnupg2 -y
</span><span class='line'>  gpg2 --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3</span></code></pre></td></tr></table></div></figure>


<p>  <img src="/images/series2/2.png" width="800" height="400"></p>

<h4>Install curl</h4>

<p>  install curl if not installed</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install curl</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/3.png" width="800" height="400"></p>

<h4>Use curl for rvm script</h4>

<p>  Now use the curl to install the rvm script</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>\curl -sSL <a href="https://get.rvm.io">https://get.rvm.io</a> -o rvm.sh</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/4.png" width="800" height="400"></p>

<h4>Install RVM</h4>

<p>  Now, the below command installs the latest version of the rvm and does all the depandancies.</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cat rvm.sh | bash -s stable</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/5.png" width="800" height="400">
  Now, install the lates version of Ruby, using the below command</p>

<h4>RVM use</h4>

<p>  Installing RVM to /home/username/.rvm/</p>

<p>  Adding rvm PATH line to /home/username/.profile /home/username/.mkshrc /homeusername/.bashrc /home/username/.zshrc.</p>

<p>  Adding rvm loading line to /home/username/.profile /home/username/.bash_profile /home/username/.zlogin.</p>

<p>  Installation of RVM in /home/username/.rvm/ is almost complete:</p>

<ul>
<li>To start using RVM you need to run
<code>
source /home/username/.rvm/scripts/rvm
</code>
in all your open shell windows, in rare cases you need to reopen all shell windows.</li>
</ul>


<h4>Install latest Ruby</h4>

<pre><code class="``">    rvm install ruby --default
</code></pre>

<p>  <img src="/images/series2/7.png" width="800" height="400"></p>

<h4>check the ruby Version</h4>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby -v</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/8.png" width="800" height="400"></p>

<h2>Install Postgres</h2>

<p>  execute the below commands one by one</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo sh -c &ldquo;echo &lsquo;deb <a href="http://apt.postgresql.org/pub/repos/apt/">http://apt.postgresql.org/pub/repos/apt/</a> xenial-pgdg main&rsquo; > /etc/apt/sources.list.d/pgdg.list&rdquo;
</span><span class='line'>    wget &ndash;quiet -O - <a href="http://apt.postgresql.org/pub/repos/apt/ACCC4CF8.asc">http://apt.postgresql.org/pub/repos/apt/ACCC4CF8.asc</a> | sudo apt-key add -
</span><span class='line'>    sudo apt-get update
</span><span class='line'>    sudo apt-get install postgresql-common
</span><span class='line'>    sudo apt-get install postgresql-9.5 libpq-dev</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/9.png" width="800" height="400">
  <img src="/images/series2/10.png" width="800" height="400">
  <img src="/images/series2/11.png" width="800" height="400">
  <img src="/images/series2/12.png" width="800" height="400">
  <img src="/images/series2/13.png" width="800" height="400"></p>

<h4>Roles in postgres</h4>

<p>  by default postgres create a root user called role here is &ldquo;postgres&rdquo;</p>

<p>  to use that</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo -i -u postgres</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/30.png" width="800" height="400"></p>

<h4>Create a New Role</h4>

<p>  We entered to the console, now, create a new Role.</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>createuser &ndash;interactive</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/15.png" width="800" height="400"></p>

<p>now, the user is created, now to check that type</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>psql</span></code></pre></td></tr></table></div></figure></p>

<p>when the console comes, then type</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>\du</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/16.png" width="800" height="400"></p>

<h4>To set Password for User</h4>

<p>go to the psql by command</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo -u postgres psql</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/17.png" width="800" height="400"></p>

<p>  type</p>

<p>  <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>\password user_name</span></code></pre></td></tr></table></div></figure></p>

<p>  <img src="/images/series2/18.png" width="800" height="400"></p>

<p>this is the end of series, will post more in another series</p>

<p>all set. thanks guys, comment if any error or doubt happend.</p>

<p><a href = "https://anoobbava.github.io/blog/2018/06/21/gcp-3-install-nginx-and-setup-unicorn/">install and setup unicorn GCP3 </a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/04/11/rails-app-deployment-using-gcp/">GCP:1 Rails App Deployment Using GCP</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-04-11T00:32:23+05:30'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>12:32 am</span></time>
        
           | <a href="/blog/2018/04/11/rails-app-deployment-using-gcp/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/04/11/rails-app-deployment-using-gcp/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Deployment using GCP</h2>

<p><img src="/images/gcp-1/0.png" width="800" height="300"></p>

<p>This will be a series of tutorials in which step by step deployment of a ROR project in Google Cloud or GCP. From here onwards it is mentioned as GCP.</p>

<h2>Why GCP</h2>

<p>I am a huge Fan of Open Source Technologies, I have used the Heroku Free Tier, RedHat,Engine Yard Also. I have been tried to use the AWS for a long time. The issue with AWS is that it has free tier but needed credit card to sign-up.Also In the case of heroku, is a PAAS Application and all the process are automated and customisation is less.</p>

<h4>Pros of GCP</h4>

<ol>
<li>comes from Google , oh! Yaaah</li>
<li>No need of credit Card</li>
<li>Need only debit card with VISA or MASTER CARD.</li>
<li>gives us the $300 credit once signup.</li>
<li>$300 credit for 12 months</li>
</ol>


<p><code>Google Cloud Platform, offered by Google, is a suite of cloud computing services that runs on the same infrastructure that Google uses internally for its end-user products, such as Google Search and YouTube.</code></p>

<p>We have explained here is the basic use case to deploy the app, for more details, please refer the official guide.</p>

<h3>signup</h3>

<ol>
<li>go to <a href="http://www.cloud.google.com/">got to GCP</a></li>
<li>signup with your email</li>
<li>add the payment details; dont worry, only debit Card needed, they is no harm because of this, they dont take amount from account unless you have to upgrade the account.</li>
</ol>


<p>Note:
  I have used ICICI Debit Account, and they deducted 50Rs from my account to verify and returned the amount. So No Worries, only i got is a 2 rs for MY OTP.</p>

<p><img src="/images/gcp-1/0_1.png" width="300" height="600"></p>

<h3>Create a Project</h3>

<p>Now, create a Project.</p>

<p><img src="/images/gcp-1/1.png" width="800" height="300"></p>

<p>give a name for the project</p>

<p><img src="/images/gcp-1/2.png" width="800" height="400"></p>

<h3>Create an instance</h3>

<p>Now the process is create the instance. Instance is something like a virtual machine. This can be fetched from the Compute Engine. Example instances are production, staging etc.</p>

<p><img src="/images/gcp-1/3.png" width="800" height="400"></p>

<p>Now, add some details to complete the instance creation.</p>

<p><img src="/images/gcp-1/4.png" width="800" height="400"></p>

<p>I have used is the ubuntu 16.04, you can choose your BootDisk.</p>

<p>Now, important part, need to link the SSH Key to the GCP.</p>

<p><img src="/images/gcp-1/5.png" width="800" height="400"></p>

<p>click on the create instance</p>

<h3>Link SSH to GCP</h3>

<p>go to the metadata and click on the SSH keys and ADD,then paste the public key to there.</p>

<p><img src="/images/gcp-1/13.png" width="800" height="400"></p>

<p>In order to do that, need to copy the public key</p>

<ol>
<li>Show the available SSH keys</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ls -al ~/.ssh</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/gcp-1/6.png" width="800" height="400"></p>

<ol>
<li>copy the desired public key</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>head ~/.ssh/id_rsa.pub</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/gcp-1/7.png" width="800" height="400"></p>

<ol>
<li>Add the public Key to the GCP</li>
</ol>


<p><img src="/images/gcp-1/8.png" width="800" height="400"></p>

<h3>Create a Pem File</h3>

<p>because of security concerns and multiple connectivity of instances, We need to generate the pem file from the public key, this is achieved by using.</p>

<p>open a new terminal and run the below code.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh-keygen -f ~/.ssh/id_rsa.pub -m 'PEM' -e > public.pem</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/gcp-1/9.png" width="100" height="50"></p>

<p>Now the code will generate the pem file in the place of terminal points to , in my case it is home path</p>

<p>Now change the permission of the pem file, by below comand</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>chmod 600 public.pem</span></code></pre></td></tr></table></div></figure>


<h3>connect the GCP using SSH</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh -i public.pem user_name@external_ip</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/gcp-1/14.png" width="800" height="300"></p>

<p>user_name is the name which is shown when we copy the ssh key, here irfana_anoob is the user_name</p>

<p>external-ip is the IP which is given when we create the instance</p>

<p><img src="/images/gcp-1/15.png" width="800" height="300"></p>

<p>this is the Series1, will be posting more posts on this Also.</p>

<p>all set. thanks guys, comment if any error or doubt happend.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/28/upload-images-using-cloudinary-in-heroku/">Upload Images Using Cloudinary in Heroku</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-28T11:43:11+05:30'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>11:43 am</span></time>
        
           | <a href="/blog/2018/03/28/upload-images-using-cloudinary-in-heroku/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/03/28/upload-images-using-cloudinary-in-heroku/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Intro</h2>

<p>  <img src="/images/cloudinary/1.png" width="600" height="200"></p>

<p>  As discussed in the previous blogs, heroku is an awesome tool to deploy our application within minutes and no hassles. The issue is with the heroku is, for each specific applications ,need to use the add-ons. some are free and others are paid version. But to use add-on like cloudinary need to provide the credit card info, Here we are explaining how to bypass this issue</p>

<h2>Cloudinary</h2>

<p>  <img src="/images/cloudinary/2.png" width="700" height="300"></p>

<p>Cloudinary, as the name indicates it is a cloud space to save the images and videos. Can be used for both the web and mobile platform. Also the cloudinary provides a cool space as free tier(10GB something and 300000 photos). when We tweet about them, they provides an additional 1GB Also, Awesome right and thanks to cloudinary too.</p>

<h2>Implementation</h2>

<ol>
<li><p>signup with <a href="https://cloudinary.com/">Cloudinary</a></p></li>
<li><p>generate the custom cloudinary.yml via cloudinary console</p></li>
<li><p>copy to the project path</p></li>
<li><p>update the upoader File</p></li>
<li><p>Update in Herkou with ENV Variable.</p></li>
<li><p>deploy the code to heroku</p></li>
</ol>


<h3>Signup with Cloudinary</h3>

<p>Create an account with <a href="https://cloudinary.com/">Cloudinary</a> using email and password.</p>

<p><img src="/images/cloudinary/3.png" width="900" height="300"></p>

<h3>Cloudinary.yml</h3>

<p>If you have not seen the cloudinary.yml, dont worry, will paste my cloudinary.yml file below, Please chnage the details from the dashboard.</p>

<p>below is the dashboard, copy this details and replace these details to the yml file.</p>

<p><img src="/images/cloudinary/4.png" width="900" height="300"></p>

<p>  <script src="https://gist.github.com/anoobbava/c7fd8141c0ace8ddfac514dc145a2c3e.js"></script></p>

<h3>copy to the project path</h3>

<p>include this file in <strong>application_root/config/</strong></p>

<h4>update the upoader File</h4>

<p> in the Uploader.rb file(ImageUploader.rb or AvatarUploader.rb) change the following,</p>

<p>comment below codes</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># storage :file
</span><span class='line'>
</span><span class='line'># def store_dir
</span><span class='line'>  #   "uploads/#{model.class.to_s.underscore}/#{mounted_as}/#{model.id}"
</span><span class='line'>  # end</span></code></pre></td></tr></table></div></figure>


<h3>Update in Herkou with ENV Variable</h3>

<p>Login in <strong>herkou</strong> dashboard and take our application and add environment variable.</p>

<p><img src="/images/cloudinary/5.png" width="800" height="300"></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  CLOUDINARY_URL</span></code></pre></td></tr></table></div></figure>


<h3>deploy the code to heroku</h3>

<p>no worries, no need to change the code in the image_tag and upload tags, for me it is all working fine</p>

<p>you check in my site for the output <strong>blog-app-bava.herokuapp.com</strong></p>

<p>code will be available in <a href="https://github.com/anoobbava/blog_app">github</a></p>

<p>all set. thanks guys, comment if any error or doubt happend</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/27/automatically-run-the-migrations-in-heroku/">Automatically Run the Migrations in Heroku</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-27T20:26:59+05:30'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>8:26 pm</span></time>
        
           | <a href="/blog/2018/03/27/automatically-run-the-migrations-in-heroku/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/03/27/automatically-run-the-migrations-in-heroku/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We all know that Heroku Running on the PAAS(Platform As Service) architecture. It is free for starter applications or hobby projects. For a normal projects, deplolyment phase consists of below steps</p>

<ol>
<li>select service</li>
<li>install OS</li>
<li>install Ruby</li>
<li>install Rails</li>
<li>Install dB</li>
<li>Install AppServer</li>
<li>configure All</li>
</ol>


<p>trust me, it is not a simple task, I have tried it and it is always in pain when setup. Takes deep knowledge to master in deployment. But for heroku is so cool and no worries, But here we have not discussing that,we are facing and issue with migration and this migration need to run every time after the code is deployed.</p>

<p>We need to run the below code every time after &ldquo;git push heroku master&rdquo;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  reroku rake db:migrate</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/run-migration/1.png" width="800" height="300"></p>

<h2>Solution</h2>

<p>thanks to Heroku, they created something called <strong>release</strong>, which will be like a after_update callback to call this process. for that need to add some code to the Procfile</p>

<h3>what is a Procfile</h3>

<p>  As copied from heroku doc
  ```</p>

<blockquote><p>A Procfile is a mechanism for declaring what commands are run by your applications dynos on the Heroku platform. It follows the process model. You can use a Procfile to declare various process types, such as your web server, multiple types of workers, a singleton process like a clock, or the tasks you would like to run before a new release is deployed to production.
Every dyno in your application will belong to one of the process types, and will begin executing by running the command associated with that process type.</p></blockquote>

<p> create a file called <strong>Procfile</strong> in the Application root path, ensure no extensions and nothing more in the file</p>

<p> Add the below code in to that file,</p>

<pre><code class="`">    release: rake db:migrate
</code></pre>

<p>hooray. all done, now do work, system will automatically check the migration files and executes them.</p>

<p><img src="/images/run-migration/2.png" width="1000" height="300"></p>

<h3>Note</h3>

<p>this process explained on the assumption that, you know the deployment of heroku and enable automatic deployment using github also.</p>

<h4>Automatic Deployment using Github</h4>

<p>Heroku provides a service to deploy the code to production once we commited in a specific branch. For me, <strong>release</strong> is the deployment branch. Need to a simple step to do that</p>

<ol>
<li>choose the <strong>Deployment method</strong> and connect to <strong>Github</strong></li>
</ol>


<p><img src="/images/run-migration/3.png" width="800" height="300"></p>

<ol>
<li>in the <strong>Automatic deploys</strong> section select your branch,</li>
</ol>


<p><img src="/images/run-migration/4.png" width="800" height="300"></p>

<p>I have configured the test suit by Travis CI, thats why checked the option <strong>Wait for CI to pass before deploy</strong></p>

<p>all set. thanks guys, comment if any error or doubt happend</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/22/create-custom-error-pages-in-rails/">Create Custom Error Pages in Rails</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-22T19:54:55+05:30'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2018</span></span> <span class='time'>7:54 pm</span></time>
        
           | <a href="/blog/2018/03/22/create-custom-error-pages-in-rails/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/03/22/create-custom-error-pages-in-rails/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/custom_error/rails_error_page.png" width="600" height="100"></p>

<p>We All know what this error page means, it is the 500 error when the internal Server issue. The problem of this issue on the server level like server Time out out or Internal issue or anything.It is not user friendly, it is the custom error page from the rails itself.</p>

<h3>Where is the Error Page ??</h3>

<p>  For every Rails Project, the Page is inside  public/ folders, the files are</p>

<ol>
<li>404.html</li>
<li>422.html</li>
<li>500.html</li>
</ol>


<p>  this is the source of this error UI.
  We can follow 2 approaches</p>

<ol>
<li>simple one</li>
<li>coding approach</li>
</ol>


<h3>Simple one</h3>

<p>  update the files with custom html and files, so the file loaded will be based on the new custom template.
  To test this, suppose your server is running on &ldquo;localhost:3000&rdquo; server, we can just type</p>

<pre><code class="`">    localhost:3000/500 or localhost:3000/404 or localhost:3000/422
</code></pre>

<p>  if it s not working, go to the &ldquo;config/environments/development.rb&rdquo; and make the line to &ldquo;false&rdquo;</p>

<pre><code class="``">      config.consider_all_requests_local = false
</code></pre>

<h3>Coding Approach</h3>

<p>  We can divide this approach to 5 parts</p>

<ol>
<li>update in the Application.rb</li>
<li>Remove the public static files</li>
<li>Add the routes</li>
<li>Create a new controller</li>
<li>create the views</li>
</ol>


<h4>Update in the application.rb File</h4>

<pre><code class="``">    config.exceptions_app = self.routes
</code></pre>

<h4>Remove the static files</h4>

<p>  All the depandant files like 404.html, 422.html, 500.html. Delete all these files</p>

<h4>Add the routes</h4>

<pre><code class="``">    get '/404', to: "errors#not_found"
    get '/422', to: "errors#unacceptable"
    get '/500', to: "errors#internal_error"
</code></pre>

<p>  this deontes the controllers and its action.</p>

<h4>Create the controller</h4>

<p>  We need to create a new controller to make this logic works that is using a contoller &ldquo;ErrorsController&rdquo;</p>

<p>  Add the action corresponding to that also,</p>

<p>  <script src="https://gist.github.com/anoobbava/9ed5b57e3d8bb75c77715a7057cd86b7.js"></script></p>

<pre><code class="``">    skip_before_action :authenticate_user!
</code></pre>

<p>  that code is to bypass devise, or else need to login to view the errors.</p>

<h4>Create the views</h4>

<p>  create the views for the errors, so create folder named errors in app/views/</p>

<pre><code class="``">    not_found.haml
    unacceptable.haml
    internal_error.haml
</code></pre>

<p>  All done, you can write custom html into that, will give you a sample to work with.</p>

<p>  <script src="https://gist.github.com/anoobbava/f028100c28d95fd664bbf59195f26b8b.js"></script></p>

<p>  it is copied from some page, I am not sure about the site, will mention thanks.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/16/allow-mutiple-images-via-carrierwave/">Allow Mutiple Images via Carrierwave</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-16T12:59:43+05:30'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>12:59 pm</span></time>
        
           | <a href="/blog/2018/03/16/allow-mutiple-images-via-carrierwave/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/03/16/allow-mutiple-images-via-carrierwave/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Gem intro</h3>

<p>  In this tutoial, we are using the carrierwave gem.The aim of this tutorial is to upload multiple images for web Applications</p>

<pre><code class="``">    gem 'carrierwave', '~&gt; 1.2', '&gt;= 1.2.2'
</code></pre>

<p>  We are using this version, Add this gem to your Gemfile and do the</p>

<pre><code class="``">    bundle install
</code></pre>

<h3>Generate the Uploader File</h3>

<p>  In order carrierwave to work, need an uploader Class. Which will be generated using the command</p>

<pre><code class="``">    rails generate uploader image
</code></pre>

<p>  Instead of image  u can give avatar or anything.As s result of the above command  a file generated called ImageUploader.rb in app/uploaders/</p>

<h3>Usecase of Carrierwave</h3>

<p>  I have an Article model, and I need to upload mutliple images of the single Article. To do that, we need to generate the following</p>

<ol>
<li>ArticleAttachment Model: To save the mutliple images for the single article and article_id to denotes the images are under that article</li>
<li>Necessory updations in the model Files</li>
<li>Update the controller to accept multiple images</li>
<li>Need to accept mutiple images from user</li>
<li>show the images to user after the article creation a success!!</li>
</ol>


<h3>Generate the ArticleAttachment Model</h3>

<p>  To generate the model run the below command with 2 columns</p>

<ol>
<li>article_id :integer</li>
<li>image :string</li>
</ol>


<pre><code class="``">    rails g model ArticleAttachment article_id:integer image:string
</code></pre>

<p>  run</p>

<pre><code class="``">    bundle exec rails db:migrate
</code></pre>

<h3>changes in the Models</h3>

<p>  in the Article Model, need to chnage on below,</p>

<pre><code class="``">    has_many :article_attachments
    accepts_nested_attributes_for :article_attachments
</code></pre>

<p>  <img src="/images/carrierwave/1.png" width="600" height="100"></p>

<p>  in the PostAttachment model</p>

<pre><code class="``">    mount_uploader :image, ImageUploader
    belongs_to :article
</code></pre>

<p>  <img src="/images/carrierwave/2.png" width="600" height="100"></p>

<h3>Changes to controllers</h3>

<p>  Need to change the controllers in below places</p>

<ol>
<li>new Action</li>
<li>show action</li>
<li>create action</li>
<li>parameters passing</li>
</ol>


<h4>New Action</h4>

<p>  Need to build an instance variable to accept the article_attachments</p>

<pre><code class="``">    @article_attachment = @article.article_attachments.build
</code></pre>

<p>  <img src="/images/carrierwave/3.png" width="600" height="100"></p>

<h4>Show action</h4>

<p>  To fetch all the images belongs to an article</p>

<pre><code class="``">    @article_attachments = @article.article_attachments.all
</code></pre>

<p>  &ldquo;@article&rdquo; will be set using fetch_article method</p>

<pre><code class="``">    def fetch_article
      @article = Article.find_by(id: params[:id])
    end
</code></pre>

<h4>Create Action</h4>

<p>  Need to save the data fetched from user</p>

<pre><code class="``">    if @article.save
      params[:article_attachments]['image'].each do |a|
        @article.article_attachments.create!(image: a, article_id: @article.id)
      end
      flash[:notice] = 'Article Created'
      redirect_to @article
    else
      render 'new'
    end
</code></pre>

<h4>Params Passing</h4>

<pre><code class="``">    def article_params
      params.require(:article).permit(:title, :content, :category_id,
                                    article_attachments_attributes: [:id, :article_id, :image])
    end
</code></pre>

<p>  Need to add the parameters to allow in to the system.</p>

<h3>Accept image from user</h3>

<p>  We have updated the controller code, now in the View, in order to accept image from the user perspective need to update the form with below</p>

<pre><code class="``">    = f.fields_for :article_attachments do |p|
        = p.label :image
        = p.file_field :image, :multiple =&gt; true, name: "article_attachments[image][]"
</code></pre>

<p>  Full pciture of the form will be like below,</p>

<p>  <img src="/images/carrierwave/4.png" width="700" height="100"></p>

<p>  Now what will happens is that in the create action, will get params with article_attachments and inside that &ldquo;image&rdquo; hash will have the images selected from user to be ready to be saved to the dB.</p>

<h3>Show the output</h3>

<p>  Now we need to show the images after successful creation of an article. To do  that, we have updated all the images belongs to the particular to this &ldquo;@article_attachments&rdquo; varaiable. What we need is just iterate and print the values.</p>

<pre><code class="``">    - @article_attachments.each do |image|
            .post-image
              = image_tag(image.image_url.to_s)
</code></pre>

<p>thats all done, Now check it is working ,please post if any doubts or bugs encountered.</p>

<p>checkout my <a href="wwww.github.com/anoobbava/blog_app">code</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/15/implement-likes-rails-with-ajax-using-acts-as-votable-gem/">Implement Likes Rails With AJAX Using Acts as Votable Gem</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-15T12:24:19+05:30'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>12:24 pm</span></time>
        
           | <a href="/blog/2018/03/15/implement-likes-rails-with-ajax-using-acts-as-votable-gem/#disqus_thread"
             data-disqus-identifier="http://anoobbava.github.io/blog/2018/03/15/implement-likes-rails-with-ajax-using-acts-as-votable-gem/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Why this Gem</h3>

<p>  Thanks to Ryan T, without his idea, it will be diffcult. Acts as votable is a gem deals with voting mechanisms, like and unlike things etc, pretyy cool isn&rsquo;t it right.This blog is only a simple idea to use this gem, for more advanced ones you can go to the</p>

<p>  <a href="https://github.com/ryanto/acts_as_votable">github link</a></p>

<h3>Add Gem to Rails Project</h3>

<p>  to fetch the latest version, <a href="https://rubygems.org/gems/acts_as_votable">rubygems acts as votable</a>
  copy the gem and add to our project Gemfile</p>

<p>  <img src="/images/acts_as_votable/1.png" width="400" height="200"></p>

<p>  then run</p>

<pre><code class="``">    bundle install
</code></pre>

<h3>create a migration for the  acts_as_votable</h3>

<p>  In order to save the votes and its depanancies, needed a table, Thanks to Gem, they will create automatically when we run the migration, Run the command in the Terminal.</p>

<pre><code class="``">  rails generate acts_as_votable:migration
</code></pre>

<pre><code class="``">    bundle exe rails db:migrate
</code></pre>

<h3>Use case in Project</h3>

<p>  The Project here I have here is the blog project which contains the Article model and User model. The User able to like an article. By Using AJAX , there is no need to refresh the page. so in the Article model add</p>

<pre><code class="``">    acts_as_votable
</code></pre>

<p>  <img src="/images/acts_as_votable/2.png" width="600" height="200"></p>

<p>  Also add the voter to User model Also,</p>

<pre><code class="``">    acts_as_voter
</code></pre>

<p>  <img src="/images/acts_as_votable/3.png" width="600" height="100"></p>

<h3>ADD the Corresponding Action in the controller</h3>

<p>  In order to work, we need to create an action in the controller, here in my case, there is ArticlesController, what we are doing is create a new action called like</p>

<p>  <img src="/images/acts_as_votable/4.png" width="600" height="100"></p>

<h2>  Will explain the codes here below</h2>

<p>  since we are only implementing here, we need to add the table which user likes the article, for that , the built-in from gem is the &ldquo;upvote_from&rdquo;.
  current_user is the devise_helper to fetch the logined user.
  @article is an instance of the article page.</p>

<h3>ADD the Routes</h3>

<p>  Since the like is the custom action, what we need is the new routes in the article and it is a PUT Action.Also each like belongs to a single article, so we are implementing is the member action under the articles</p>

<p>  <img src="/images/acts_as_votable/5.png" width="500" height="100"></p>

<h3>Create a template corresponding to Like action</h3>

<p>  We are using AJAX to update the count of likes, this will need a like.js.haml needed inside app/views/articles/</p>

<p>  contents are</p>

<p>  <img src="/images/acts_as_votable/6.png" width="600" height="100"></p>

<p>  Right now, the code does not make any sense. since I am following HAML logic, a little bit different than ERB ones.
  the #like-count is the div id, what we have used here is , after liking, we updated the count of likes to #like-count div.
  get_upvotes.size is the helper to fetch the count of likes for the corresponding article.</p>

<h3>Like button in the UI</h3>

<p>  will check the routes is everything all okay,</p>

<p>  <img src="/images/acts_as_votable/7.png" width="700" height="100"></p>

<p>  Ahh!, All set, now add the route path in the page where like button needed, I have added a like.png image in assets to look like social media button. also a CSS class to reduce the image size, if you needed add that or just discard that.</p>

<p>  <img src="/images/acts_as_votable/8.png" width="700" height="100"></p>

<h3>ADD the Div id to update the count of like</h3>

<p>  We have mentioned and id = #like-count in the lik.js.haml, need to add that in any place we can show the count of like. In my example, i have a glyphicon to show that before that i added it like below.</p>

<p>  <img src="/images/acts_as_votable/9.png" width="700" height="100"></p>

<h2>  Will Explain the codes below</h2>

<p>  when the page intially loaded acts_votable gem called &ldquo;get_upvotes&rdquo; will fetch all the likes and show in the page, after that, if any likee from user, then the system Will AJAX and there by calling the like.js.haml and update the new count via AJAX.</p>

<p>  All completed, now the output, will show you, like button</p>

<p>  <img src="/images/acts_as_votable/10.png" width="200" height="100"></p>

<p>  like count image</p>

<p>  <img src="/images/acts_as_votable/11.png" width="300" height="100"></p>

<p>   Note: the count shows as 2 because, I liked 2 times from 2 different accounts, actually there will like only one like per account per article, the gem is intellegent as it is ,again Thanks to Ryan T for this,
   If you have show stoppers, please check the code in</p>

<p>  <a href="https://github.com/anoobbava/wiki_clone_app">github</a></p>

<p>  thanks Guys.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Anoob Bava</h1>
  <p>Full time Ruby on Rails developer, Opensource contributor in intervals. love to code and try out new things</p>
  <img src="/images/about/profile.jpg" alt="Smiley face" height="200" width="300">

  <a href ="https://anoobbava.github.io/downloads/code/anoob_bava.pdf">Resume</a>
</section>
<section>
  <h2>social Links</h2>
  <p>
    <a href="https://www.github.com/anoobbava"><img border="0" alt="github" src="/images/github_logo.png" width="50" height="50"></a>
    <a href="https://twitter.com/anoobkbava"><img border="0" alt="twitter" src="/images/twitter_logo.png" width="50" height="50"></a>
    <a href="https://stackoverflow.com/users/5023291/anoob-k-bava"><img border="0" alt="so" src="/images/stackoverflow_logo.png" width="50" height="50"></a>
    <a href="https://rubygems.org/gems/penmig"><img border="0" alt="so" src="/images/rubygems_logo.png" width="45" height="50"></a>
  </p>
</section>

<section>
  <h1>Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/06/28/deployment-using-mina/">GCP:4 Deployment Using Mina</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/06/21/gcp-3-install-nginx-and-setup-unicorn/">GCP:3 Install Nginx and Setup Unicorn</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/05/29/delayed-job-with-recurring-option/">Delayed Job With Recurring Option</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/04/12/install-ruby-and-postgres-to-gcp-series2/">GCP:2 Install Ruby and Postgres</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/04/11/rails-app-deployment-using-gcp/">GCP:1 Rails App Deployment Using GCP</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/anoobbava">@anoobbava</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'anoobbava',
            count: ,
            skip_forks: ,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/anoob.bava?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Anoob Bava -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'https-anoobbava-github-io';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
